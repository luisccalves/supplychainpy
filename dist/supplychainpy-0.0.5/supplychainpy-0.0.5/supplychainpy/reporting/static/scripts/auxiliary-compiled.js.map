{"version":3,"sources":["auxiliary.js"],"names":[],"mappings":"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","file":"auxiliary-compiled.js","sourcesContent":["/**\n * Created by Fasusi on 22/05/2016.\n */\nimport $ from 'jquery';\n\n$(function () {\n\n    $('#loader').hide();\n    $('#currency-dropdown-btn >li').click(function () {\n        var currency = $(\".dropdown-menu > li > a\").text();\n        $('#currency-dropdown-btn').text(currency);\n    });\n\n    $('div.nav-tab').hover(highlight);\n\n    $('#search-btn').click(function () {\n        $(\"#profile-rec\").hide();\n        $(\"#sku-rec > div\").hide();\n        search_recommendations();\n    });\n\n    $('#sim-search-btn').click(function () {\n        $(\"#profile-rec\").hide();\n        $(\"#sim-sku-rec > div\").hide();\n        search_sim();\n    });\n\n    $('#simulate-btn').click(function () {\n        $('<div id=\"loader\">').show();\n        run_simulation();\n    });\n\n    $('#clear-btn').click(function () {\n        show_recommendations();\n    });\n\n    $('#sim-clear-btn').click(function () {\n        show_sim();\n    });\n\n    $('#sim-detail-btn').click(function () {\n        toggle_reporting_view_alt('[id$=sim-detail] > recommendation-panel');\n    });\n\n\n    $('#shortages-btn').click(function () {\n        toggle_reporting_view('collapse-shortages');\n    });\n\n\n    $('#excess-btn').click(function () {\n        toggle_reporting_view('collapse-excess');\n    });\n\n    $('#ses-btn').click(function () {\n        toggle_reporting_view('ses-tg');\n    });\n\n    $('#htces-btn').click(function () {\n        toggle_reporting_view('htces');\n    });\n\n\n    $('#chat-btn').click(function () {\n        chat_to_bot();\n    });\n\n    $('#classifications-btn').click(function () {\n        toggle_reporting_view('collapse-classification');\n    });\n\n    $('#search-input').keypress(function (event) {\n        if (event.keyCode == 13) {\n            $('#search-btn').click();\n        }\n    });\n\n    $('#chat-input').keypress(function (event) {\n        if (event.keyCode == 13) {\n            $('#chat-btn').click();\n        }\n    });\n\n    $('#runs-input').keypress(function (event) {\n        if (event.keyCode == 13) {\n            $('#simulate-btn').click();\n        }\n    });\n\n    $('#sim-search-input').keypress(function (event) {\n        if (event.keyCode == 13) {\n            $('#sim-search-btn').click();\n        }\n    });\n    load_currency_codes();\n    // ajax request for json containing sku related. Is used to: builds revenue chart (#chart).\n    var ay = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"AY\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n    var ax = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"AX\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n    var az = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"AZ\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n    var bx = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"BX\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n    var by = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"BY\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n    var bz = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"BZ\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n    var cx = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"CX\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n    var cy = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"CY\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n    var cz = [{\n        \"name\": \"abc_xyz_classification\",\n        \"op\": \"eq\",\n        \"val\": \"cz\",\n        \"direction\": \"desc\",\n        \"limit\": 10\n    }, {\"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10}];\n\n\n    var filters = [{\n        \"name\": \"shortage_rank\",\n        \"op\": \"le\",\n        \"val\": 10,\n        \"direction\": \"desc\",\n        \"limit\": 10,\n        \"results_per_page\": 10\n    }];\n    var excess_filters = [{\"name\": \"excess_cost\", \"op\": \"gt\", \"val\": 0, \"direction\": \"desc\", \"limit\": 10}];\n\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/reporting/api/v1.0/top_shortages',\n        dataType: 'json',\n        async: true,\n        data: {\"q\": JSON.stringify({\"filters\": filters})},\n        success: function (data) {\n            console.log(data.json_list);\n            //var currency_code = data.objects[i].currency.currency_code;\n            //currency_fetch(currency_code);\n            //create_shortages_table(data);\n            render_shortages_chart(data, '#shortage-chart');\n        },\n        error: function (result) {\n\n            console.log(result);\n        }\n    });\n    //build force node graph on classification view page, is dependent on jinja template logic inserting a tag on the page\n    //to identify what classification view has been triggered.\n    var ay_val = $('#AY-node').length;\n    var ax_val = $('#AX-node').length;\n    var az_val = $('#AZ-node').length;\n    var bx_val = $('#BX-node').length;\n    var by_val = $('#BY-node').length;\n    var bz_val = $('#BZ-node').length;\n    var cx_val = $('#CX-node').length;\n    var cy_val = $('#CY-node').length;\n    var cz_val = $('#CZ-node').length;\n\n    //console.log(ax_val);\n    if (ay_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": ay})},\n            success: function (data) {\n                //console.log(data.objects);\n                var node_chart = new RenderForceChart(data, '#node-chart');\n                node_chart.classification_force();\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (ax_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": ax})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (az_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": az})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (bx_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": bx})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n\n    if (by_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": by})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (bz_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": bz})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (cx_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": cx})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (cy_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": cy})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    if (cz_val > 0) {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/json; charset=utf-8\",\n            url: '/api/inventory_analysis',\n            dataType: 'json',\n            async: true,\n            data: {\"q\": JSON.stringify({\"filters\": cz})},\n            success: function (data) {\n                //console.log(data.objects);\n                if (data != null) {\n                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n                    node_chart2.classification_force();\n                }\n\n            },\n            error: function (result) {\n\n\n            }\n        });\n    }\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/api/inventory_analysis',\n        dataType: 'json',\n        async: true,\n\n        data: {\"q\": JSON.stringify({\"filters\": excess_filters})},\n        success: function (data) {\n            //console.log(data.objects);\n            create_excess_table(data);\n        },\n        error: function (result) {\n\n\n        }\n    });\n\n\n    //ajax request for json containing all costs summarised by product class (abcxyz), builds pie chart (#chart2)\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/reporting/api/v1.0/abc_summary',\n        dataType: 'json',\n        async: true,\n        data: \"{}\",\n        success: function (data) {\n            //console.log(data);\n            var pie_chart1 = new RenderPieChart(data, '#pie-shortage');\n            pie_chart1.shortages();\n            var pie_chart2 = new RenderPieChart(data, '#excess-pie');\n            pie_chart2.excess();\n            create_classification_table(data);\n            var pie_chart3 = new RenderPieChart(data, '#revenue-class-chart');\n            pie_chart3.classification('revenue');\n            var pie_chart4 = new RenderPieChart(data, '#shortage-class-chart');\n            pie_chart4.classification('shortage');\n            var pie_chart5 = new RenderPieChart(data, '#excess-class-chart');\n            pie_chart5.classification('excess');\n\n        },\n        error: function (result) {\n            //console.log(result);// make 404.html page\n        }\n    });\n\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/reporting/api/v1.0/top_excess/10',\n        dataType: 'json',\n        async: true,\n        data: \"{}\",\n        success: function (data) {\n            //console.log(data);\n            render_excess_chart(data, '#excess-chart');\n\n        },\n        error: function (result) {\n            //console.log(result);// make 404.html page\n        }\n    });\n\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/api/forecast_breakdown',\n        dataType: 'json',\n        async: true,\n        data: \"{}\",\n        success: function (data) {\n            //console.log(data);\n            //console.log(data);\n\n        },\n        error: function (result) {\n            //console.log(result);// make 404.html page\n        }\n    });\n\n    bar_chart_sku();\n    line_chart_forecast();\n    line_chart_forecast_ses();\n});\n\n/** Searches for sku on recommendation page (feed.html)\n *  @function search_recommendations */\nfunction search_recommendations() {\n\n    var message = $('#search-input').val();\n    show_search(message);\n\n\n}\n\nfunction search_sim() {\n\n    var message = $('#sim-search-input').val();\n    show_search(message);\n\n\n}\n\nfunction show_search(message) {\n    $(\"#\" + message.trim()).show();\n}\n\nfunction show_recommendations() {\n    $('#search-input').val('');\n    $(\"#profile-rec\").show(500, \"linear\");\n    $(\"#sku-rec > div\").show().slideDown(600);\n}\n\nfunction show_sim() {\n\n    $('#sim-search-input').val('');\n    $(\"#sim-profile-rec\").show(500, \"linear\");\n    $(\"#sim-sku-rec > div\").show().slideDown(600);\n}\n\n\nfunction run_simulation() {\n    var runs = $('#runs-input').val();\n\n    window.location = '/simulation/' + runs;\n}\n\n\nfunction chat_to_bot() {\n    var user = 'You';\n    var message = $('#chat-input').val();\n    //console.log(message);\n    render_bot_response(message, user);\n\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/chat/' + message,\n        dataType: 'json',\n        async: true,\n        data: \"{}\",\n        success: function (data) {\n            var communicator = 'Dash';\n            render_bot_response(data, communicator);\n            //console.log(data);\n\n        },\n        error: function (result) {\n\n            //console.log(result);// make 404.html page\n        }\n    });\n\n    $('#chat-input').val('');\n}\n\n\nfunction render_bot_response(message, communicator) {\n\n    switch (communicator) {\n        case 'You':\n\n            $('<p style=\\\"color:#042029;\\\">' + communicator + ': ' + message + '</p><br><p></p>')\n                .insertAfter('#response-panel p:last')\n                .fadeIn(\"slow\");\n\n            break;\n        case 'Dash':\n            for (i = 0; i < message.json_list.length; i++) {\n                if (message.json_list[i] != null && message.json_list[i] != '') {\n                    $('<p style=\\\"color:#a2e1f6;\\\">' + communicator + ': ' + message.json_list[i] + '</p><br><p></p>')\n                        .hide()\n                        .insertAfter('#response-panel p:last')\n                        .delay(800)\n                        .fadeIn(1000);\n                    $(\"#response-panel\").animate({scrollTop: $('#response-panel').prop(\"scrollHeight\")}, 500);\n                    ;\n                }\n\n            }\n\n\n            break;\n    }\n\n}\n\n\nfunction bar_chart_sku() {\n    var orders_data = document.getElementById(\"orders-data\");\n    //console.log(orders_data.getElementsByClassName(\"orders-raw-data\"));\n    var wins = [];\n    var period = [];\n\n    for (i = 0; i < orders_data.getElementsByClassName(\"orders-raw-data\").length; i++) {\n\n        wins.push([i + 1, parseInt(orders_data.getElementsByClassName(\"orders-raw-data\")[i].innerText)]);\n        period.push([i + 1, i + 1]);\n        //console.log(wins);\n    }\n    wins = [wins];\n    //console.log(period);\n\n    Flotr.draw(document.getElementById(\"demand-chart\"), wins, {\n        bars: {\n            show: true,\n            barWidth: 0.5\n        },\n        yaxis: {\n            min: 0,\n            tickDecimals: 0\n        },\n        xaxis: {\n            ticks: period\n        }\n    });\n}\n\nfunction line_chart_forecast() {\n    var orders_data = document.getElementById(\"orders-data\");\n    var forecast_data = document.getElementById(\"forecast-data\");\n    var forecast_values = document.getElementById(\"forecast\");\n    var safety_stock = document.getElementById(\"safety-stock\");\n    var reorder_lvl = document.getElementById(\"reorder-lvl\");\n\n    //console.log(safety_stock.innerText);\n    var forecast = [];\n    var orders = [];\n    var regression = [];\n    var safety = [];\n    var reorder = [];\n\n    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data\").length; i++) {\n\n        safety.push([i + 1, parseInt(safety_stock.innerText)]);\n        reorder.push([i + 1, parseInt(reorder_lvl.innerText)]);\n\n    }\n\n    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data\").length; i++) {\n\n        forecast.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"forecast-raw-data\")[i].innerText)]);\n\n    }\n\n    for (i = 0; i < orders_data.getElementsByClassName(\"orders-raw-data\").length; i++) {\n\n        orders.push([i + 1, parseInt(orders_data.getElementsByClassName(\"orders-raw-data\")[i].innerText)]);\n\n    }\n\n    //for (i = 0; i < forecast_values.getElementsByClassName(\"forecast-values\").length; i++) {\n//\n    //    forecast.push([forecast.length + i, parseInt(forecast_values.getElementsByClassName(\"forecast-values\")[i].innerText)]);\n//\n    //}\n\n    for (i = 0; i < forecast_data.getElementsByClassName(\"regression\").length; i++) {\n\n        regression.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"regression\")[i].innerText)]);\n\n    }\n\n    //console.log(forecast);\n    //console.log(wins);\n\n\n    Flotr.draw(\n        document.getElementById(\"forecast-chart\"),\n        [\n            {\n                data: orders,\n                lines: {show: true},\n                label: \"orders\",\n\n            },\n            {\n                data: forecast,\n                lines: {show: true},\n                label: \"one-step forecast\"\n            },\n            {\n                data: regression,\n                lines: {show: true},\n                label: \"regression\"\n            },\n            {\n                data: safety,\n                lines: {show: true},\n                label: \"safety stock level\",\n                color: \"#C61C6F\"\n            },\n            {\n                data: reorder,\n                lines: {show: true},\n                label: \"reorder level\"\n            },\n\n        ]\n    );\n\n}\n\n\nfunction line_chart_forecast_ses() {\n    var orders_data = document.getElementById(\"orders-data\");\n    console.log(orders_data);\n    var forecast_data = document.getElementById(\"ses-data\");\n    var forecast_values = document.getElementById(\"ses\");\n    var safety_stock = document.getElementById(\"safety-stock\");\n    var reorder_lvl = document.getElementById(\"reorder-lvl\");\n\n    //console.log(safety_stock.innerText);\n    var forecast = [];\n    var orders = [];\n    var regression = [];\n    var safety = [];\n    var reorder = [];\n\n    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data-ses\").length; i++) {\n\n        safety.push([i + 1, parseInt(safety_stock.innerText)]);\n        reorder.push([i + 1, parseInt(reorder_lvl.innerText)]);\n\n    }\n\n    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data-ses\").length; i++) {\n\n        forecast.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"forecast-raw-data-ses\")[i].innerText)]);\n\n    }\n\n    for (i = 0; i < orders_data.getElementsByClassName(\"orders-raw-data\").length; i++) {\n\n        orders.push([i + 1, parseInt(orders_data.getElementsByClassName(\"orders-raw-data\")[i].innerText)]);\n\n    }\n\n    for (i = 0; i < forecast_data.getElementsByClassName(\"regression-ses\").length; i++) {\n\n        regression.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"regression-ses\")[i].innerText)]);\n\n    }\n\n    //console.log(forecast);\n    //console.log(wins);\n\n\n    Flotr.draw(\n        document.getElementById(\"ses-chart\"),\n        [\n            {\n                data: orders,\n                lines: {show: true},\n                label: \"orders\",\n\n            },\n            {\n                data: forecast,\n                lines: {show: true},\n                label: \"one-step forecast\"\n            },\n            {\n                data: regression,\n                lines: {show: true},\n                label: \"regression\"\n            },\n            {\n                data: safety,\n                lines: {show: true},\n                label: \"safety stock level\",\n                color: \"#C61C6F\"\n            },\n            {\n                data: reorder,\n                lines: {show: true},\n                label: \"reorder level\"\n            },\n\n        ]\n    );\n\n}\n\n\nfunction format_number(num) {\n    return num.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n\n}\n\n// helper functions for unpacking data from ajax requests\nvar unpack = {\n    attribute_enum: {\n        revenue: 'revenue',\n        shortage_cost: 'shortage_cost',\n        shortages: 'shortages'\n\n    },\n\n    sku_detail: function (data, value) {\n        var barData = [];\n        var tempData;\n        var key;\n        var i;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //.log(tempData[i].revenue);\n                switch (value) {\n                    case unpack.attribute_enum.revenue:\n                        barData.push(tempData[i].revenue);\n                        //console.log(barData);\n                        break;\n                    case upack.attribute_enum.shoratge_cost:\n                        barData.push(tempData[i].shoratge_cost);\n                }\n\n            }\n\n        }\n        return barData;\n    },\n\n    excess: function (data, target) {\n        var excess_data = [];\n        var tempData;\n        var key;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                switch (target) {\n\n                    case 'chart':\n                        excess_data.push([tempData[i].abc_xyz_classification, tempData[i].total_excess]);\n                        //console.log (excess_data);\n                        break;\n\n                    case 'table':\n                        excess_data.push(tempData[i]);\n                        //console.log(excess_data);\n                        break;\n                }\n\n            }\n\n        }\n        return excess_data;\n    },\n\n    pie: function (data) {\n        var pieData = [];\n        var tempData;\n        var key;\n\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                pieData.push([tempData[i].abc_xyz_classification, tempData[i].total_shortages]);\n                //onsole.log(pieData);\n            }\n\n\n        }\n        return pieData;\n    },\n\n    shortages: function (data, target) {\n        var shortages_data = [];\n        var tempData;\n        var key;\n        var i;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                switch (target) {\n\n                    case 'chart':\n                        shortages_data.push([tempData[i].sku_id, tempData[i].shortage_cost]);\n                        //console.log(shortages_data);\n                        break;\n\n                    case 'table':\n                        shortages_data.push(tempData[i]);\n                        //console.log(shortages_data);\n                        break;\n                }\n\n            }\n\n        }\n        return shortages_data;\n    },\n    excess_cost: function (data, target) {\n        var excess_data = [];\n        var tempData;\n        var key;\n        var i;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                switch (target) {\n\n                    case 'chart':\n                        excess_data.push([tempData[i].sku_id, tempData[i].excess_cost]);\n                        //console.log(shortages_data);\n                        break;\n\n                    case 'table':\n                        excess_data.push(tempData[i]);\n                        //console.log(shortages_data);\n                        break;\n                }\n\n            }\n\n        }\n        return excess_data;\n    },\n\n    excess_by_class: function (data, target, classification) {\n        var excess_data = [];\n        var tempData;\n        var key;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData[0]);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                switch (target) {\n\n                    case 'chart':\n                        switch (classification) {\n                            case 'AY':\n                                if (tempData[i].abc_xyz_classification == 'AY') {\n                                    excess_data.push([['excess', tempData[i].total_excess], ['revenue', tempData[i].total_revenue], ['shortage', tempData[i].total_shortages]]);\n                                }\n                        }\n                        //console.log (excess_data);\n                        break;\n\n                    case 'table':\n                        excess_data.push(tempData[i]);\n                        //console.log(excess_data);\n                        break;\n                }\n\n            }\n\n        }\n        //console.log(excess_data);\n        return excess_data;\n    },\n\n\n    abc_xyz: function abc_xyz(data, target) {\n        var abcxyz_data = [];\n        var tempData;\n        var key;\n        var i;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                switch (target) {\n\n                    case 'chart':\n                        abcxyz_data.push([tempData[i].sku_id, tempData[i].shortage_cost]);\n                        //console.log(shortages_data);\n                        break;\n\n                    case 'table':\n                        abcxyz_data.push(tempData[i]);\n                        //console.log(shortages_data);\n                        break;\n                }\n            }\n        }\n        return abcxyz_data;\n    },\n\n    classification: function classification(data, target) {\n        var tempData;\n        var key;\n        var classification_data = [];\n        var i;\n        for (key in data) {\n            tempData = data[key];\n            //console.log(tempData);\n            for (i in tempData) {\n                //console.log(tempData[i]);\n                switch (target) {\n\n                    case 'revenue':\n                        classification_data.push([tempData[i].abc_xyz_classification, tempData[i].total_revenue]);\n                        //console.log(classification_data);\n                        break;\n\n                    case 'shortage':\n                        classification_data.push([tempData[i].abc_xyz_classification, tempData[i].total_shortages]);\n                        //console.log(classification_data);\n                        break;\n\n                    case 'excess':\n                        classification_data.push([tempData[i].abc_xyz_classification, tempData[i].total_excess]);\n                        //console.log(classification_data);\n                        break;\n                }\n            }\n        }\n        return classification_data;\n    }\n\n};\n\n\n//loads the currency codes into dropdown\nfunction load_currency_codes() {\n    var currency_symbols = [\n        [\"AED\", \"United Arab Emirates Dirham\"], [\"AFN\", \"Afghanistan Afghani\"], [\"ALL\", \"Albania Lek\"],\n        [\"AMD\", \"Armenia Dram\"], [\"ANG\", \"Netherlands Antilles Guilder\"], [\"AOA\", \"Angola Kwanza\"],\n        [\"ARS\", \"Argentina Peso\"], [\"AUD\", \"Australia Dollar\"], [\"AWG\", \"Aruba Guilder\"],\n        [\"AZN\", \"Azerbaijan New Manat\"], [\"BAM\", \"Bosnia and Herzegovina Convertible Marka\"],\n        [\"BBD\", \"Barbados Dollar\"], [\"BDT\", \"Bangladesh Taka\"], [\"BGN\", \"Bulgaria Lev\"], [\"BHD\", \"Bahrain Dinar\"],\n        [\"BIF\", \"Burundi Franc\"], [\"BMD\", \"Bermuda Dollar\"], [\"BND\", \"Brunei Darussalam Dollar\"],\n        [\"BOB\", \"Bolivia Bolíviano\"], [\"BRL\", \"Brazil Real\"], [\"BSD\", \"Bahamas Dollar\"],\n        [\"BTN\", \"Bhutan Ngultrum\"], [\"BWP\", \"Botswana Pula\"], [\"BYR\", \"Belarus Ruble\"], [\"BZD\", \"Belize Dollar\"],\n        [\"CAD\", \"Canada Dollar\"], [\"CDF\", \"Congo/Kinshasa Franc\"], [\"CHF\", \"Switzerland Franc\"],\n        [\"CLP\", \"Chile Peso\"], [\"CNY\", \"China Yuan Renminbi\"], [\"COP\", \"Colombia Peso\"],\n        [\"CRC\", \"Costa Rica Colon\"], [\"CUC\", \"Cuba Convertible Peso\"], [\"CUP\", \"Cuba Peso\"],\n        [\"CVE\", \"Cape Verde Escudo\"], [\"CZK\", \"Czech Republic Koruna\"], [\"DJF\", \"Djibouti Franc\"],\n        [\"DKK\", \"Denmark Krone\"], [\"DOP\", \"Dominican Republic Peso\"], [\"DZD\", \"Algeria Dinar\"],\n        [\"EGP\", \"Egypt Pound\"], [\"ERN\", \"Eritrea Nakfa\"], [\"ETB\", \"Ethiopia Birr\"],\n        [\"EUR\", \"Euro Member Countries\"], [\"FJD\", \"Fiji Dollar\"], [\"FKP\", \"Falkland Islands (Malvinas) Pound\"],\n        [\"GBP\", \"United Kingdom Pound\"], [\"GEL\", \"Georgia Lari\"], [\"GGP\", \"Guernsey Pound\"],\n        [\"GHS\", \"Ghana Cedi\"], [\"GIP\", \"Gibraltar Pound\"], [\"GMD\", \"Gambia Dalasi\"], [\"GNF\", \"Guinea Franc\"],\n        [\"GTQ\", \"Guatemala Quetzal\"], [\"GYD\", \"Guyana Dollar\"], [\"HKD\", \"Hong Kong Dollar\"],\n        [\"HNL\", \"Honduras Lempira\"], [\"HRK\", \"Croatia Kuna\"], [\"HTG\", \"Haiti Gourde\"], [\"HUF\", \"Hungary Forint\"],\n        [\"IDR\", \"Indonesia Rupiah\", \"ILS\", \"Israel Shekel\"], [\"IMP\", \"Isle of Man Pound\"],\n        [\"INR\", \"India Rupee\"], [\"IQD\", \"Iraq Dinar\"], [\"IRR\", \"Iran Rial\"], [\"ISK\", \"Iceland Krona\"],\n        [\"JEP\", \"Jersey Pound\"], [\"JMD\", \"Jamaica Dollar\"], [\"JOD\", \"Jordan Dinar\"], [\"JPY\", \"Japan Yen\"],\n        [\"KES\", \"Kenya Shilling\"], [\"KGS\", \"Kyrgyzstan Som\"], [\"KHR\", \"Cambodia Riel\"], [\"KMF\", \"Comoros Franc\"],\n        [\"KPW\", \"Korea (North) Won\"], [\"KRW\", \"Korea (South) Won\"], [\"KWD\", \"Kuwait Dinar\"],\n        [\"KYD\", \"Cayman Islands Dollar\"], [\"KZT\", \"Kazakhstan Tenge\"], [\"LAK:\", \"Laos Kip\"],\n        [\"LBP\", \"Lebanon Pound\"], [\"LKR\", \"Sri Lanka Rupee\"], [\"LRD\", \"Liberia Dollar\"], [\"LSL\", \"Lesotho Loti\"],\n        [\"LYD\", \"Libya Dinar\"], [\"MAD\", \"Morocco Dirham\"], [\"MDL\", \"Moldova Leu\"], [\"MGA\", \"Madagascar Ariary\"],\n        [\"MKD\", \"Macedonia Denar\"], [\"MMK\", \"Myanmar (Burma) Kyat\"], [\"MNT\", \"Mongolia Tughrik\"],\n        [\"MOP\", \"Macau Pataca\"], [\"MRO\", \"Mauritania Ouguiya\"], [\"MUR\", \"Mauritius Rupee\"],\n        [\"MVR\", \"Maldives (Maldive Islands) Rufiyaa\"], [\"MWK\", \"Malawi Kwacha\"], [\"MXN\", \"Mexico Peso\"],\n        [\"MYR\", \"Malaysia Ringgit\"], [\"MZN\", \"Mozambique Metical\"], [\"NAD\", \"Namibia Dollar\"],\n        [\"NGN\", \"Nigeria Naira\"], [\"NIO\", \"Nicaragua Cordoba\"], [\"NOK:\", \"Norway Krone\"], [\"NPR\", \"Nepal Rupee\"],\n        [\"NZD\", \"New Zealand Dollar\"], [\"OMR\", \"Oman Rial\"], [\"PAB\", \"Panama Balboa\"], [\"PEN\", \"Peru Sol\"],\n        [\"PGK\", \"Papua New Guinea Kina\"], [\"PHP\", \"Philippines Peso\"], [\"PKR\", \"Pakistan Rupee\"],\n        [\"PLN\", \"Poland Zloty\"], [\"PYG\", \"Paraguay Guarani\"], [\"QAR\", \"Qatar Riyal\"], [\"RON\", \"Romania New Leu\"],\n        [\"RSD\", \"Serbia Dinar\"], [\"RUB\", \"Russia Ruble\"], [\"RWF\", \"Rwanda Franc\"], [\"SAR\", \"Saudi Arabia Riyal\"],\n        [\"SBD\", \"Solomon Islands Dollar\"], [\"SCR\", \"Seychelles Rupee\"], [\"SDG\", \"Sudan Pound\"],\n        [\"SEK\", \"Sweden Krona\"], [\"SGD\", \"Singapore Dollar\"], [\"SHP\", \"Saint Helena Pound\"],\n        [\"SLL\", \"Sierra Leone Leone\"], [\"SOS\", \"Somalia Shilling\"], [\"SPL:\", \"Seborga Luigino\"],\n        [\"SR:D\", \"Suriname Dollar\"], [\"STD\", \"São Tomé and Príncipe Dobra\"], [\"SVC\", \"El Salvador Colon\"],\n        [\"SYP\", \"Syria Pound\"], [\"SZL\", \"Swaziland Lilangeni\"], [\"THB\", \"Thailand Baht\"],\n        [\"TJS\", \"Tajikistan Somoni\"], [\"TMT\", \"Turkmenistan Manat\"], [\"TND\", \"Tunisia Dinar\"],\n        [\"TOP\", \"Tonga Pa'anga\"], [\"TRY\", \"Turkey Lira\"], [\"TTD\", \"Trinidad and Tobago Dollar\"],\n        [\"TVD\", \"Tuvalu Dollar\"], [\"TWD\", \"Taiwan New Dollar\"], [\"TZS\", \"Tanzania Shilling\"],\n        [\"UAH\", \"Ukraine Hryvnia\"], [\"UGX\", \"Uganda Shilling\"], [\"USD\", \"American Dollars\"],\n        [\"UYU\", \"Uruguay Peso\"], [\"UZS\", \"Uzbekistan Som\"], [\"VEF\", \"Venezuela Bolivar\"],\n        [\"VND\", \"Viet Nam Dong\"], [\"VUV\", \"Vanuatu Vatu\"], [\"WST\", \"Samoa Tala\"],\n        [\"XAF\", \"Communauté Financière Africaine (BEAC) CFA Franc BEAC\"], [\"XCD\", \"East Caribbean Dollar\"],\n        [\"XDR\", \"International Monetary Fund (IMF) Special Drawing Rights\"],\n        [\"XOF\", \"Communauté Financière Africaine (BCEAO) Franc\"],\n        [\"XPF\", \"Comptoirs Français du Pacifique (CFP) Franc\"], [\"YER\", \"Yemen Rial\"],\n        [\"ZAR\", \"South Africa Rand\"], [\"ZMW\", \"Zambia Kwacha\"], [\"ZWD\", \"Zimbabwe Dollar\"]];\n    for (var i = 0; i < currency_symbols.length; i++) {\n        //console.log(currency_symbols[i][0]);\n        $(\"<li role=\\\"presentation\\\"><a role=\\\"menuitem\\\" class =\\\"text-center\\\" tabindex=\\\"-1\\\" href=\\\"#\\\">\" + currency_symbols[i][0] + \"</a></li>\").insertAfter(\"#currency-list li:last\");\n    }\n}\n\nfunction highlight() {\n\n    $(this).toggleClass('highlight-event');\n\n}\n\nfunction toggle_reporting_view(id) {\n    $('#' + id).toggle(\"slow\");\n}\n\n\nfunction toggle_reporting_view_alt(id) {\n    $(id).toggle(\"slow\");\n}\n\nfunction currency_fetch(id) {\n\n    var filters = [{\"name\": \"id\", \"op\": \"eq\", \"val\": id, \"direction\": \"asc\", \"limit\": 1}];\n\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/api/currency',\n        dataType: 'json',\n        async: true,\n        data: {\"q\": JSON.stringify({\"filters\": filters})},\n        success: function (data) {\n            //console.log(JSON.stringify({\"filters\": filters}));\n            //console.log(data);\n            var li = [...data.objects];\n            //console.log(li[0].currency_code);\n            $('#currency-code').text(li[0].currency_code);\n            return li[0].currency_code\n\n\n        },\n        error: function (result) {\n\n\n        }\n    });\n\n\n}\n\nfunction currency_symbol_allocator(currency_symbol) {\n    var currency_symbols = {\n        \"AED\": \"&#92;&#117;&#48;&#54;&#50;&#102;&#46;\", \"AFN\": \"&#1547;\", \"ALL\": \"Albania Lek\",\n        \"AMD\": \"&#1423;\", \"ANG\": \"&#402;\", \"AOA\": \"Angola Kwanza\",\n        \"ARS\": \"Argentina Peso\", \"AUD\": \"Australia Dollar\", \"AWG\": \"Aruba Guilder\",\n        \"AZN\": \"Azerbaijan New Manat\", \"BAM\": \"Bosnia and Herzegovina Convertible Marka\",\n        \"BBD\": \"Barbados Dollar\", \"BDT\": \"Bangladesh Taka\", \"BGN\": \"Bulgaria Lev\", \"BHD\": \"Bahrain Dinar\",\n        \"BIF\": \"Burundi Franc\", \"BMD\": \"Bermuda Dollar\", \"BND\": \"Brunei Darussalam Dollar\",\n        \"BOB\": \"Bolivia Bolíviano\", \"BRL\": \"Brazil Real\", \"BSD\": \"Bahamas Dollar\",\n        \"BTN\": \"Bhutan Ngultrum\", \"BWP\": \"Botswana Pula\", \"BYR\": \"Belarus Ruble\", \"BZD\": \"Belize Dollar\",\n        \"CAD\": \"Canada Dollar\", \"CDF\": \"Congo/Kinshasa Franc\", \"CHF\": \"Switzerland Franc\",\n        \"CLP\": \"Chile Peso\", \"CNY\": \"China Yuan Renminbi\", \"COP\": \"Colombia Peso\",\n        \"CRC\": \"Costa Rica Colon\", \"CUC\": \"Cuba Convertible Peso\", \"CUP\": \"Cuba Peso\",\n        \"CVE\": \"Cape Verde Escudo\", \"CZK\": \"Czech Republic Koruna\", \"DJF\": \"Djibouti Franc\",\n        \"DKK\": \"Denmark Krone\", \"DOP\": \"Dominican Republic Peso\", \"DZD\": \"Algeria Dinar\",\n        \"EGP\": \"Egypt Pound\", \"ERN\": \"Eritrea Nakfa\", \"ETB\": \"Ethiopia Birr\",\n        \"EUR\": \"&#8364;\", \"FJD\": \"Fiji Dollar\", \"FKP\": \"Falkland Islands (Malvinas) Pound\",\n        \"GBP\": \"United Kingdom Pound\", \"GEL\": \"Georgia Lari\", \"GGP\": \"Guernsey Pound\",\n        \"GHS\": \"Ghana Cedi\", \"GIP\": \"Gibraltar Pound\", \"GMD\": \"Gambia Dalasi\", \"GNF\": \"Guinea Franc\",\n        \"GTQ\": \"Guatemala Quetzal\", \"GYD\": \"Guyana Dollar\", \"HKD\": \"Hong Kong Dollar\",\n        \"HNL\": \"Honduras Lempira\", \"HRK\": \"Croatia Kuna\", \"HTG\": \"Haiti Gourde\", \"HUF\": \"Hungary Forint\",\n        \"IDR\": \"Indonesia Rupiah\", \"ILS\": \"Israel Shekel\", \"IMP\": \"Isle of Man Pound\",\n        \"INR\": \"India Rupee\", \"IQD\": \"Iraq Dinar\", \"IRR\": \"Iran Rial\", \"ISK\": \"Iceland Krona\",\n        \"JEP\": \"Jersey Pound\", \"JMD\": \"Jamaica Dollar\", \"JOD\": \"Jordan Dinar\", \"JPY\": \"Japan Yen\",\n        \"KES\": \"Kenya Shilling\", \"KGS\": \"Kyrgyzstan Som\", \"KHR\": \"Cambodia Riel\", \"KMF\": \"Comoros Franc\",\n        \"KPW\": \"Korea (North) Won\", \"KRW\": \"Korea (South) Won\", \"KWD\": \"Kuwait Dinar\",\n        \"KYD\": \"Cayman Islands Dollar\", \"KZT\": \"Kazakhstan Tenge\", \"LAK:\": \"Laos Kip\",\n        \"LBP\": \"Lebanon Pound\", \"LKR\": \"Sri Lanka Rupee\", \"LRD\": \"Liberia Dollar\", \"LSL\": \"Lesotho Loti\",\n        \"LYD\": \"Libya Dinar\", \"MAD\": \"Morocco Dirham\", \"MDL\": \"Moldova Leu\", \"MGA\": \"Madagascar Ariary\",\n        \"MKD\": \"Macedonia Denar\", \"MMK\": \"Myanmar (Burma) Kyat\", \"MNT\": \"Mongolia Tughrik\",\n        \"MOP\": \"Macau Pataca\", \"MRO\": \"Mauritania Ouguiya\", \"MUR\": \"Mauritius Rupee\",\n        \"MVR\": \"Maldives (Maldive Islands) Rufiyaa\", \"MWK\": \"Malawi Kwacha\", \"MXN\": \"Mexico Peso\",\n        \"MYR\": \"Malaysia Ringgit\", \"MZN\": \"Mozambique Metical\", \"NAD\": \"Namibia Dollar\",\n        \"NGN\": \"Nigeria Naira\", \"NIO\": \"Nicaragua Cordoba\", \"NOK:\": \"Norway Krone\", \"NPR\": \"Nepal Rupee\",\n        \"NZD\": \"New Zealand Dollar\", \"OMR\": \"Oman Rial\", \"PAB\": \"Panama Balboa\", \"PEN\": \"Peru Sol\",\n        \"PGK\": \"Papua New Guinea Kina\", \"PHP\": \"Philippines Peso\", \"PKR\": \"Pakistan Rupee\",\n        \"PLN\": \"Poland Zloty\", \"PYG\": \"Paraguay Guarani\", \"QAR\": \"Qatar Riyal\", \"RON\": \"Romania New Leu\",\n        \"RSD\": \"Serbia Dinar\", \"RUB\": \"Russia Ruble\", \"RWF\": \"Rwanda Franc\", \"SAR\": \"Saudi Arabia Riyal\",\n        \"SBD\": \"Solomon Islands Dollar\", \"SCR\": \"Seychelles Rupee\", \"SDG\": \"Sudan Pound\",\n        \"SEK\": \"Sweden Krona\", \"SGD\": \"Singapore Dollar\", \"SHP\": \"Saint Helena Pound\",\n        \"SLL\": \"Sierra Leone Leone\", \"SOS\": \"Somalia Shilling\", \"SPL:\": \"Seborga Luigino\",\n        \"SR:D\": \"Suriname Dollar\", \"STD\": \"São Tomé and Príncipe Dobra\", \"SVC\": \"El Salvador Colon\",\n        \"SYP\": \"Syria Pound\", \"SZL\": \"Swaziland Lilangeni\", \"THB\": \"Thailand Baht\",\n        \"TJS\": \"Tajikistan Somoni\", \"TMT\": \"Turkmenistan Manat\", \"TND\": \"Tunisia Dinar\",\n        \"TOP\": \"Tonga Pa'anga\", \"TRY\": \"Turkey Lira\", \"TTD\": \"Trinidad and Tobago Dollar\",\n        \"TVD\": \"Tuvalu Dollar\", \"TWD\": \"Taiwan New Dollar\", \"TZS\": \"Tanzania Shilling\",\n        \"UAH\": \"Ukraine Hryvnia\", \"UGX\": \"Uganda Shilling\", \"USD\": \"&#36;\",\n        \"UYU\": \"Uruguay Peso\", \"UZS\": \"Uzbekistan Som\", \"VEF\": \"Venezuela Bolivar\",\n        \"VND\": \"Viet Nam Dong\", \"VUV\": \"Vanuatu Vatu\", \"WST\": \"Samoa Tala\",\n        \"XAF\": \"Communauté Financière Africaine (BEAC) CFA Franc BEAC\", \"XCD\": \"East Caribbean Dollar\",\n        \"XDR\": \"International Monetary Fund (IMF) Special Drawing Rights\",\n        \"XOF\": \"Communauté Financière Africaine (BCEAO) Franc\",\n        \"XPF\": \"Comptoirs Français du Pacifique (CFP) Franc\", \"YER\": \"Yemen Rial\",\n        \"ZAR\": \"South Africa Rand\", \"ZMW\": \"Zambia Kwacha\", \"ZWD\": \"Zimbabwe Dollar\"\n    };\n\n    return currency_symbols[currency_symbol];\n}\n\nclass RenderPieChart {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n\n    }\n\n    shortages() {\n        //console.log(data);\n\n        var width = 300;\n        var height = 300;\n        var radius = 150;\n        var colors = d3.scale.ordinal()\n            .range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n        var pieData = unpack.pie(this.data);\n        //console.log(pieData);\n\n        var pie = d3.layout.pie()\n            .value(function (d) {\n                //console.log(d[1]);\n                return d[1];\n            });\n\n        var arc = d3.svg.arc()\n            .outerRadius(radius);\n\n        var myChart = d3.select(this.id).append('svg')\n            .attr('width', width)\n            .attr('height', height)\n            .append('g')\n            .attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')')\n            .selectAll('path').data(pie(pieData))\n            .enter().append('g')\n            .attr('class', 'slice');\n\n        var slices = d3.selectAll('g.slice')\n            .append('path')\n            .attr('fill', function (d, i) {\n                return colors(i);\n            })\n            .attr('opacity', .6)\n            .attr('d', arc);\n\n        var text = d3.selectAll('g.slice')\n            .append('text')\n            .text(function (d, i) {\n                //console.log(d.data[0]);\n\n                return d.data[0];\n\n            })\n            .attr('text-anchor', 'middle')\n            .attr('fill', 'white')\n            .attr('transform', function (d) {\n                d.innerRadius = 0;\n                d.outerRadius = radius;\n                return 'translate(' + arc.centroid(d) + ')'\n            });\n\n    }\n\n    excess() {\n        //console.log(data);\n\n        var width = 300;\n        var height = 300;\n        var radius = 150;\n        var colors = d3.scale.ordinal()\n            .range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n        var pieData = unpack.excess(this.data, 'chart');\n        //console.log(pieData);\n\n        var pie = d3.layout.pie()\n            .value(function (d) {\n                //console.log(d[1]);\n                return d[1];\n            });\n\n        var arc = d3.svg.arc()\n            .outerRadius(radius);\n\n        var myChart = d3.select(this.id).append('svg')\n            .attr('width', width)\n            .attr('height', height)\n            .append('g')\n            .attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')')\n            .selectAll('path').data(pie(pieData))\n            .enter().append('g')\n            .attr('class', 'slice');\n\n        var slices = d3.selectAll('g.slice')\n            .append('path')\n            .attr('fill', function (d, i) {\n                return colors(i);\n            })\n            .attr('opacity', .6)\n            .attr('d', arc);\n\n        var text = d3.selectAll('g.slice')\n            .append('text')\n            .text(function (d, i) {\n                //console.log(d.data);\n\n                return d.data[0];\n\n            })\n            .attr('text-anchor', 'middle')\n            .attr('fill', 'white')\n            .attr('transform', function (d) {\n                d.innerRadius = 0;\n                d.outerRadius = radius;\n                return 'translate(' + arc.centroid(d) + ')'\n            });\n\n\n    }\n\n    classification(id) {\n        var width = 300;\n        var height = 300;\n        var radius = 150;\n        var colors = d3.scale.ordinal()\n            .range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n        var pieData = unpack.classification(this.data, id);\n        //console.log(pieData);\n\n        var pie = new d3.layout.pie()\n            .value(function (d) {\n                //console.log(d[1]);\n                return d[1];\n            });\n\n        var arc = new d3.svg.arc()\n            .outerRadius(radius);\n\n        var myChart = d3.select(this.id).append('svg')\n            .attr('width', width)\n            .attr('height', height)\n            .append('g')\n            .attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')')\n            .selectAll('path').data(pie(pieData))\n            .enter().append('g')\n            .attr('class', 'slice');\n\n        var slices = d3.selectAll('g.slice')\n            .append('path')\n            .attr('fill', function (d, i) {\n                return colors(i);\n            })\n            .attr('opacity', .6)\n            .attr('d', arc);\n\n        var text = d3.selectAll('g.slice')\n            .append('text')\n            .text(function (d, i) {\n                //console.log(d.data[0]);\n\n                return d.data[0];\n\n            })\n            .attr('text-anchor', 'middle')\n            .attr('fill', 'white')\n            .attr('transform', function (d) {\n                d.innerRadius = 0;\n                d.outerRadius = radius;\n                return 'translate(' + arc.centroid(d) + ')'\n            });\n\n\n    }\n\n}\n\n\nclass RenderForceChart {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n\n    }\n\n    classification_force() {\n        var w = 800,\n            h = 400;\n\n        var circleWidth = 5;\n\n        var palette = {\n            \"lightgray\": \"#819090\",\n            \"gray\": \"#708284\",\n            \"mediumgray\": \"#536870\",\n            \"darkgray\": \"#475B62\",\n\n            \"darkblue\": \"#0A2933\",\n            \"darkerblue\": \"#042029\",\n\n            \"paleryellow\": \"#FCF4DC\",\n            \"paleyellow\": \"#EAE3CB\",\n            \"yellow\": \"#A57706\",\n            \"orange\": \"#BD3613\",\n            \"red\": \"#D11C24\",\n            \"pink\": \"#C61C6F\",\n            \"purple\": \"#595AB7\",\n            \"blue\": \"#2176C7\",\n            \"green\": \"#259286\",\n            \"yellowgreen\": \"#738A05\"\n        };\n\n        var nodes1 = [];\n        for (var s = 0; s < this.data.objects.length; s++) {\n            if (s == 0) {\n                nodes1.push({name: this.data.objects[s].abc_xyz_classification})\n            } else {\n                nodes1.push({name: this.data.objects[s].sku.sku_id, target: [0]});\n            }\n\n\n        }\n\n        var nodes = [\n            {name: \"Parent\"},\n            {name: \"child1\"},\n            {name: \"child2\", target: [0]},\n            {name: \"child3\", target: [0]},\n            {name: \"child4\", target: [1]},\n            {name: \"child5\", target: [0, 1, 2, 3]}\n        ];\n\n        var links = [];\n\n        for (var i = 0; i < nodes1.length; i++) {\n            if (nodes1[i].target !== undefined) {\n                for (var x = 0; x < nodes1[i].target.length; x++) {\n                    links.push({\n                        source: nodes1[i],\n                        target: nodes1[nodes1[i].target[x]]\n                    })\n                }\n            }\n        }\n\n        var myChart = d3.select(this.id)\n            .append('svg')\n            .attr('width', w)\n            .attr('height', h);\n\n        var force = d3.layout.force()\n            .nodes(nodes1)\n            .links([])\n            .gravity(0.3)\n            .charge(-1000)\n            .size([w, h]);\n\n        var link = myChart.selectAll('line')\n            .data(links).enter().append('line')\n            .attr('stroke', palette.gray);\n\n        var node = myChart.selectAll('circle')\n            .data(nodes1).enter()\n            .append('g')\n            .call(force.drag);\n\n        node.append('circle')\n            .attr('cx', function (d) {\n                return d.x;\n            })\n            .attr('cy', function (d) {\n                return d.y;\n            })\n            .attr('r', circleWidth)\n            .attr('fill', function (d, i) {\n                if (i > 0) {\n                    return palette.blue\n                }\n                else {\n                    return palette.pink\n                }\n            });\n\n        node.append('text')\n            .text(function (d) {\n                return d.name\n\n            })\n            .attr('fill', function (d, i) {\n                if (i > 0) {\n                    return palette.paleyellow\n                }\n                else {\n                    return palette.blue\n                }\n            })\n            .attr('x', function (d, i) {\n                if (i > 0) {\n                    return circleWidth + 3\n                }\n                else {\n                    return circleWidth - 5\n                }\n            }).attr('y', function (d, i) {\n            if (i > 0) {\n                return circleWidth\n            }\n            else {\n                return circleWidth - 8\n            }\n        })\n            .attr('font-family', 'Roboto Slab')\n            .attr('text-anchor', function (d, i) {\n                if (i > 0) {\n                    return 'beginning'\n                }\n                else {\n                    return 'end'\n                }\n            })\n            .attr('font-size', function (d, i) {\n                if (i > 0) {\n                    return '1em'\n                }\n                else {\n                    return '1.5em'\n                }\n            });\n\n        force.on('tick', function (e) {\n            node.attr('transform', function (d, i) {\n                return 'translate(' + d.x + ', ' + d.y + ')';\n            });\n\n            link\n                .attr('x1', function (d) {\n                    return d.source.x\n                })\n                .attr('y1', function (d) {\n                    return d.source.y\n                })\n                .attr('x2', function (d) {\n                    return d.target.x\n                })\n                .attr('y2', function (d) {\n                    return d.target.y\n                })\n        });\n\n\n        force.start();\n\n    }\n}\n\nfunction create_shortages_table(data) {\n    var total_shortage = 0;\n    //console.log(data.objects);\n    //var max_shortage = Math.max(data.shortage_cost);\n    //console.log(currency_symbol_allocator(\"AFN\"));\n\n\n    $(\"#shortage-table\").append().html(\"<tr id='first'><th>SKU</th><th>Quantity on Hand</th><th>Average Orders</th>\" +\n        \"<th>Shortage</th><th>Shortage Cost</th><th>Safety Stock</th><th>Reorder Level</th> \" +\n        \"<th>Percentage Contribution</th><th>Revenue Rank</th><th>Classification</th></tr>\");\n    var percentage_stockoout = 0;\n    var t = [];\n    var largest = 0;\n    var understocked_qoh = 0;\n    var understocked_sku;\n    var understocked_rol;\n    var understocked_id;\n    for (var i = 0; i < data.json_list.length; i++) {\n        console.log(data.json_list[i].shortage_cost);\n        total_shortage += data.json_list[i].shortage_cost;\n        var shortage_sku_id;\n        var shortage_units;\n        var shortage_id;\n        if (parseInt(data.json_list[i].shortage_cost) > parseInt(largest)) {\n            largest = data.json_list[i].shortage_cost;\n            //console.log(parseInt(largest));\n            shortage_id = data.json_list[i].sku.id;\n            shortage_sku_id = data.json_list[i].sku.sku_id;\n            shortage_units = data.json_list[i].shortages;\n        }\n\n        if (parseInt(data.json_list[i].quantity_on_hand) < (parseInt(data.json_list[i].safety_stock) / 2)) {\n            percentage_stockoout += 1;\n        }\n        var temp_net_stock = data.json_list[i].quantity_on_hand - data.json_list[i].reorder_level;\n        if (Math.abs(temp_net_stock) > understocked_qoh) {\n            understocked_qoh = data.json_list[i].quantity_on_hand;\n            understocked_sku = data.json_list[i].sku.sku_id;\n            understocked_rol = data.json_list[i].reorder_level;\n            understocked_id = data.json_list[i].sku.id;\n        }\n    }\n\n    // Percentage of top 10 SKU likely to face a stock-out situation. SKU is at risk below 50% of the safety stock.\n    //This should be moved into the main library.\n    percentage_stockoout = (parseInt(percentage_stockoout) / data.json_list.length) * 100;\n\n    //Total Shortage of the to ten.\n    //console.log(percentage_stockoout);\n    $(\"#total-shortage\").append().html(\"<h1><strong>\" + format_number(total_shortage) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n\n    // top shortage SKU id\n    $(\"#lg-shortage-sku\").append().html(\"<a href=\\\"sku_detail/\" + shortage_id + \"\\\">\" + \"<strong>\" + shortage_sku_id + \"</strong></a>\")\n        .find(\"> h1\").css(\"color\", \"#2176C7\");\n\n    //largest shortage cost\n    $(\"#lg-shortage-cost\").append().html(\"<h1 class='slate-text-lg'><strong>\" + format_number(largest) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n\n    //units for largest shortage cost.\n    $(\"#lg-shortage-units\").append().html(\"<h1><strong>\" + format_number(shortage_units) + \" units\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#819090\");\n\n    //percentage of SKUs likely to experience stock-out\n    $(\"#shortage-percentage\").append().html(\"<h1><strong>\" + percentage_stockoout + \"%\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#819090\");\n\n    $(\"#understocked-sku\").append().html(\"<a href=\\\"sku_detail/\" + understocked_id + \"\\\">\" + \"<strong>\" + understocked_sku + \"</strong></a>\")\n        .find(\"> h1\").css(\"color\", \"#2176C7\");\n\n    $(\"#understocked-qoh\").append().html(\"<h1><strong>\" + \"qty on hand: \" + understocked_qoh + \" units\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#819090\");\n\n    $(\"#understocked_rol\").append().html(\"<h1><strong>\" + \"reorder level: \" + understocked_rol + \" units\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#819090\");\n}\n\n\nfunction create_excess_table(data) {\n    var total_excess = 0,\n        percentage_excess = 0;\n\n    $(\"#excess-table\").append().html(\"<tr id='first'><th>SKU</th><th>Quantity on Hand</th><th>Average Orders</th>\" +\n        \"<th>Excess</th><th>Excess Cost</th><th>Excess Inventory %</th><th>Safety Stock</th><th>Reorder Level</th><th>Classification</th></tr>\");\n    //console.log(excess_data);\n    var obj;\n    var largest = 0;\n    var excess_sku_id;\n    var excess_units;\n    var excess_cost;\n    var holding_cost = 0;\n    var excess_id;\n\n    for (var i = 0; i < data.objects.length; i++) {\n        //console.log(excess_data[obj].sku_id);\n        total_excess += data.objects[i].excess_cost;\n        holding_cost += data.objects[i].quantity_on_hand * ( data.objects[i].unit_cost * 0.25); //change later to be chosen by use\n        var symbols = currency_symbol_allocator(data.objects[i].currency.currency_code);\n        percentage_excess = Math.round((data.objects[i].excess_stock / data.objects[i].quantity_on_hand) * 100);\n        $(\"<tr><td><a href=\\\"sku_detail/\" + data.objects[i].sku_id + \"\\\">\" + data.objects[i].sku.sku_id + \"</td>\" +\n            \"<td>\" + format_number(data.objects[i].quantity_on_hand) + \"</td>\" +\n            \"<td>\" + format_number(data.objects[i].average_orders) + \"</td>\" +\n            \"<td>\" + format_number(data.objects[i].excess_stock) + \"</td>\" +\n            \"<td>\" + currency_symbol_allocator(data.objects[i].currency.currency_code) + format_number(data.objects[i].excess_cost) + \"</td>\" +\n            \"<td>\" + percentage_excess + \"%\" + \"</td>\" +\n            \"<td>\" + format_number(data.objects[i].safety_stock) + \"</td>\" +\n            \"<td>\" + format_number(data.objects[i].reorder_level) + \"</td>\" +\n            \"<td><a href=\\\"abcxyz/\" + data.objects[i].abc_xyz_classification + \"\\\">\" + data.objects[i].abc_xyz_classification + \"</a></td></tr>\").insertAfter(\"#excess-table tr:last\");\n\n\n        if (parseInt(data.objects[i].excess_cost) > parseInt(largest)) {\n            largest = data.objects[i].excess_cost;\n            //console.log(parseInt(largest));\n            excess_sku_id = data.objects[i].sku.sku_id;\n            excess_units = data.objects[i].excess_stock;\n            excess_cost = data.objects[i].excess_cost;\n            excess_id = data.objects[i].sku.id;\n        }\n\n\n    }\n\n    $.ajax({\n        type: \"GET\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '/api/total_inventory',\n        dataType: 'json',\n        async: true,\n        data: \"{}\",\n        success: function (data) {\n            // console.log(data);\n            var items = [...data.json_list];\n            //console.log(items.length);\n            var total_invetory = 0;\n            for (i = 0; i < items.length; i++) {\n\n                total_invetory += items[i].quantity_on_hand * items[i].unit_cost;\n\n                //console.log(total_invetory);\n            }\n            var percentage_excess;\n            //console.log(total_invetory);\n            percentage_excess = Math.round((total_excess / total_invetory) * 100, 0);\n\n            $(\"#excess-inventory-sl\").append().html(\"<h1><strong>\" + percentage_excess + \"%\" + \"</strong></h1>\")\n                .find(\"> h1\").css(\"color\", \"#D11C29\");\n        },\n        error: function (result) {\n\n\n        }\n    });\n\n    // top excess pebble\n    $(\"#lg-excess-sku\").append().html(\"<a href=\\\"sku_detail/\" + excess_id + \"\\\">\" + \"<strong>\" + excess_sku_id + \"</strong></a>\")\n        .find(\"> h1\").css(\"color\", \"#2176C7\");\n    $(\"#lg-excess-cost\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(excess_cost) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n    $(\"#lg-excess-units\").append().html(\"<h1><strong>\" + format_number(excess_units) + \" units\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#819090\");\n    $(\"#total-excess\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(total_excess) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n\n    $(\"#excess-holding-cost-sl\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(holding_cost) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n\n}\n\n\nfunction create_classification_table(data) {\n\n    var abc_xyz_data = new unpack.abc_xyz(data, 'table');\n    var currency_code;\n    //console.log(abc_xyz_data);\n\n    $(\"#classification-table\").append().html(\"<tr id='classification-row'><th>Classification</th><th>Revenue</th><th>Shortages</th>\" + \"<th>Excess</th></tr>\");\n    //console.log(excess_data);\n\n\n    var obj;\n\n    var symbols = currency_symbol_allocator(abc_xyz_data[0].currency_code);\n    //console.log(symbols, abc_xyz_data[0].currency_code);\n    for (obj in abc_xyz_data) {\n        //console.log(abc_xyz_data[obj].abc_xyz_classification);\n        $(\"<tr><td><a href=\\\"abcxyz/\" + abc_xyz_data[obj].abc_xyz_classification + \"\\\">\" + abc_xyz_data[obj].abc_xyz_classification + \"</a>\"\n            + \"<td>\" + symbols + format_number(abc_xyz_data[obj].total_revenue) + \"</td>\"\n            + \"<td>\" + symbols + format_number(abc_xyz_data[obj].total_shortages) + \"</td>\"\n            + \"<td>\" + symbols + format_number(abc_xyz_data[obj].total_excess) + \"</td>\"\n            + \"</td></tr>\").insertAfter(\"#classification-table tr:last\");\n    }\n\n    var max_shortage = 0;\n    var max_class;\n    var max_excess = 0;\n    var excess_class;\n    var total_shortages = 0;\n    var total_excess = 0;\n    var item;\n    var tempValue;\n    var tempClass;\n    for (item in abc_xyz_data) {\n        if (abc_xyz_data[item].total_shortages > max_shortage) {\n            max_shortage = abc_xyz_data[item].total_shortages;\n            max_class = abc_xyz_data[item].abc_xyz_classification;\n\n        }\n        if (abc_xyz_data[item].total_excess > max_excess) {\n            max_excess = abc_xyz_data[item].total_excess;\n            excess_class = abc_xyz_data[item].abc_xyz_classification;\n\n        }\n        total_shortages += abc_xyz_data[item].total_shortages;\n        total_excess += abc_xyz_data[item].total_excess;\n    }\n\n    $(\"#lg-shortage-classification\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(max_shortage) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n    $(\"#lg-shortage-classification-class\").append().html(\"<a href=\\\"abcxyz/\" + max_class + \"\\\">\" + \"<strong>\" + max_class + \"</strong></a>\")\n        .find(\"> h1\").css(\"color\", \"#2176C7\");\n    $(\"#lg-total-shortage\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(total_shortages) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n    $(\"#lg-shortage-percentage\").append().html(\"<h1><strong>\" + Math.round((max_shortage / total_shortages) * 100) + \"% of Total Shortage\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#708284\");\n\n    $(\"#lg-excess-classification\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(max_excess) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n    $(\"#lg-excess-classification-class\").append().html(\"<a href=\\\"abcxyz/\" + excess_class + \"\\\">\" + \"<strong>\" + excess_class + \"</strong>\")\n        .find(\"> h1\").css(\"color\", \"#2176C7\");\n    $(\"#lg-excess-percentage\").append().html(\"<h1><strong>\" + Math.round((max_excess / total_excess) * 100) + \"% of Total Excess\" + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"#708284\");\n    $(\"#lg-total-excess\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(total_excess) + \"</strong></h1>\")\n        .find(\"> h1\").css(\"color\", \"white\");\n}\n\n\n// --------------Graphing-----------------------\n\n\n// change functions to graph rendering class\n/*function render_revenue_graph(data, id) {\n var barData = unpack.sku_detail(data, \"revenue\");//change to enums\n var tempData = [];\n\n //console.log(barData);\n //var height = 350,\n //   width = 300,\n var margin = {top: 30, right: 20, bottom: 40, left: 90};\n\n var height = 350 - margin.top - margin.bottom;\n var width = 400 - margin.left - margin.right;\n var barWidth = 10;\n var barOffset = 5;\n\n var tempColor;\n\n\n var yScale = d3.scale.linear()\n .domain([0, d3.max(barData)]) //  calculates the max range of the chart area\n .range([0, height]); // the range of the chart area\n\n var xScale = d3.scale.ordinal()\n .domain(d3.range(0, barData.length))\n .rangeBands([0, width]);\n\n var colors = d3.scale.linear()\n .domain([0, barData.length * .33, barData.length * .88, barData.length])\n .range(['#FFB832', '#C61C6F', '#C31C6F', '#382982']); //the number of values in the domain must match the number of values in the range\n\n var myChart = d3.select(id).append('svg')\n .style('background', 'transparent')\n .attr('width', width + margin.left + margin.right)\n .attr('height', height + margin.top + margin.bottom)\n .append('g')\n .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')')\n .selectAll('rect').data(barData)\n .enter().append('rect') //the data command reads the bar data and the appends the selectall rect for each piece of data\n .style('fill', colors)\n .attr('width', xScale.rangeBand())\n .attr('height', 0)\n .attr('x', function (d, i) {\n return xScale(i);\n })\n .attr('y', height)\n .on('mouseover', function (d) {\n\n tooltip.transaction()\n .style('opacity', 0.5);\n tooltip.html(d)\n .style('left', (d3.event.pageX - 35) + 'px')\n .style('top', (d3.event.pageY - 30) + 'px');\n\n tempColor = this.style.fill;\n\n d3.select(this)\n .style('opacity', .5)\n .style('fill', '#389334')\n\n }).on('mouseout', function (d) {\n d3.select(this)\n .style('opacity', 1)\n .style('fill', tempColor)\n });\n\n myChart.transition()\n .attr('height', function (d) {\n return yScale(d);\n })\n .attr('y', function (d) {\n return height - yScale(d);\n })\n .delay(function (d, i) {\n return i * 20;\n })\n .duration(1000)\n .ease('elastic');\n\n\n var tooltip = d3.select('body')\n .append('div')\n .style('position', 'absolute')\n .style('background', 'white')\n .style('padding', '0 10px')\n .style('opacity', 0);\n\n var vGuideScale = d3.scale.linear()\n .domain([0, d3.max(barData)]).range([height, 0]); //reversing the order of the scale on the y axis\n var vAxis = d3.svg.axis()\n .scale(vGuideScale)\n .orient('left')\n .ticks(10);\n\n var vGuide = d3.select('svg').append('g');\n vAxis(vGuide);\n vGuide.attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');\n vGuide.selectAll('path')\n .style({fill: 'none', stroke: \"#000\"});\n vGuide.selectAll('line')\n .style({stroke: \"#000\"});\n\n var hAxis = d3.svg.axis()\n .scale(xScale)\n .orient('bottom')\n .tickValues(xScale.domain().filter(function (d, i) {\n return !(i % (barData.length / 10));\n }));\n\n var hGuide = d3.select('svg').append('g');\n hAxis(hGuide);\n hGuide.attr('transform', 'translate(' + margin.left + ', ' + (height + margin.top) + ')');\n hGuide.selectAll('path')\n .style({fill: 'none', stroke: \"#000\"});\n hGuide.selectAll('line')\n .style({stroke: \"#000\"});\n\n\n }\n */\n\nfunction render_shortages_chart(data, id) {\n    var bardata = unpack.shortages(data, 'chart');\n    var nums = [];\n    var switchColor;\n\n    for (i in bardata) {\n        nums.push(bardata[i][1]);\n    }\n\n    var tooltip = d3.select('body')\n        .append('div')\n        .style('position', 'absolute')\n        .style('background', 'white')\n        .style('padding', '0 10px')\n        .style('opacity', 0);\n\n    //console.log(nums);\n\n    var margin = {top: 30, right: 50, bottom: 40, left: 95};\n\n    var height = 350 - margin.top - margin.bottom;\n    var width = 600 - margin.left - margin.right;\n\n    var colors = d3.scale.linear()\n        .domain([0, nums.length * .33, nums.length * .66, nums.length])\n        .range(['white', '#259286', '#738A05', '#2176C7']);\n\n    var yScale = d3.scale.linear()\n        .domain([0, d3.max(nums)])\n        .range([0, height]);\n\n    var xScale = d3.scale.ordinal()\n        .domain(d3.range(0, nums.length))\n        .rangeBands([0, width], .2); // space the bars on the chart\n\n    var shortage_chart = d3.select(id).append('svg')\n        .style('background', '#0A2933;')\n        .attr('width', width + margin.left + margin.right)\n        .attr('height', height + margin.top + margin.bottom)\n        .append('g')\n        .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')') //moving the chart graphic\n        .selectAll('rect').data(nums)\n        .enter().append('rect')\n        .style('fill', function (d, i) {\n            return colors(i);\n        })\n        .attr('width', xScale.rangeBand())\n        .attr('height', 0)\n        .attr('x', function (d, i) {\n            return xScale(i);\n        })\n        .attr('y', height).on('mouseover', function (d) {\n            //console.log(d);\n            tooltip.transition()\n                .style('opacity', 0.5);\n            tooltip.html(d)\n                .style('left', (d3.event.pageX - 35) + 'px')\n                .style('top', (d3.event.pageY - 30) + 'px');\n\n            switchColor = this.style.fill;\n            d3.select(this)\n                .style('opacity', .5);\n            d3.select(this)\n                .style('fill', '#D11C24')\n\n        }).on('mouseout', function (d) {\n            d3.select(this)\n                .transition()\n                .delay(300)\n                .duration(300)\n                .style('fill', switchColor);\n            d3.select(this)\n                .style('opacity', 1)\n        });\n    //transitions graph in\n    shortage_chart.transition()\n        .attr('height', function (d, i) {\n            return yScale(d);\n        })\n        .attr('y', function (d) {\n            return height - yScale(d);\n        }).delay(function (d, i) {\n        return i * 70;\n\n    }).ease('elastic');\n\n    var vGuideScale = d3.scale.linear()\n        .domain([0, d3.max(nums)])\n        .range([height, 0]); //reversing the order of the scale on the y axi\n\n    var vAxis = d3.svg.axis()\n        .scale(vGuideScale)\n        .orient('left')\n        .ticks(10);\n\n    var vGuide = d3.select('#shortage-chart > svg').append('g');\n    vAxis(vGuide);\n    vGuide.attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');\n    vGuide.selectAll('path')\n        .style({fill: 'none', stroke: \"white\"});\n    vGuide.selectAll('line')\n        .style({stroke: \"white\"});\n    vGuide.selectAll('text')\n        .style({stroke: \"grey\"});\n\n    var name = d3.scale.ordinal()\n        .range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n    var hAxis = d3.svg.axis()\n        .scale(xScale)\n        .orient('bottom')\n        .tickValues(xScale.domain().filter(function (d, i) {\n            return !(i % (nums.length / 5));\n        }));\n\n    var hGuide = d3.select('#shortage-chart > svg').append('g');\n    hAxis(hGuide);\n    hGuide.attr('transform', 'translate(' + margin.left + ', ' + (height + margin.top) + ')');\n    hGuide.selectAll('path')\n        .style({fill: 'none', stroke: \"white\"});\n    hGuide.selectAll('line')\n        .style({stroke: \"white\"});\n    hGuide.selectAll('text')\n        .style({stroke: \"grey\"});\n\n}\n\nfunction render_excess_chart(data, id) {\n    var bardata = unpack.excess_cost(data, 'chart');\n    //console.log(bardata);\n    var nums = [];\n    var switchColor;\n\n    for (i in bardata) {\n        nums.push(bardata[i][1]);\n    }\n\n    var tooltip = d3.select('body')\n        .append('div')\n        .style('position', 'absolute')\n        .style('background', 'white')\n        .style('padding', '0 10px')\n        .style('opacity', 0);\n\n    //console.log(nums);\n\n    var margin = {top: 30, right: 50, bottom: 40, left: 95};\n\n    var height = 350 - margin.top - margin.bottom;\n    var width = 600 - margin.left - margin.right;\n\n    var colors = d3.scale.linear()\n        .domain([0, nums.length * .33, nums.length * .66, nums.length])\n        .range(['white', '#259286', '#738A05', '#2176C7']);\n\n    var yScale = d3.scale.linear()\n        .domain([0, d3.max(nums)])\n        .range([0, height]);\n\n    var xScale = d3.scale.ordinal()\n        .domain(d3.range(0, nums.length))\n        .rangeBands([0, width], .2); // space the bars on the chart\n\n    var shortage_chart = d3.select(id).append('svg')\n        .style('background', '#0A2933;')\n        .attr('width', width + margin.left + margin.right)\n        .attr('height', height + margin.top + margin.bottom)\n        .append('g')\n        .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')') //moving the chart graphic\n        .selectAll('rect').data(nums)\n        .enter().append('rect')\n        .style('fill', function (d, i) {\n            return colors(i);\n        })\n        .attr('width', xScale.rangeBand())\n        .attr('height', 0)\n        .attr('x', function (d, i) {\n            return xScale(i);\n        })\n        .attr('y', height).on('mouseover', function (d) {\n            //console.log(d);\n            tooltip.transition()\n                .style('opacity', 0.5);\n            tooltip.html(d)\n                .style('left', (d3.event.pageX - 35) + 'px')\n                .style('top', (d3.event.pageY - 30) + 'px');\n\n            switchColor = this.style.fill;\n            d3.select(this)\n                .style('opacity', .5);\n            d3.select(this)\n                .style('fill', '#D11C24')\n\n        }).on('mouseout', function (d) {\n            d3.select(this)\n                .transition()\n                .delay(300)\n                .duration(300)\n                .style('fill', switchColor);\n            d3.select(this)\n                .style('opacity', 1)\n        });\n    //transitions graph in\n    shortage_chart.transition()\n        .attr('height', function (d, i) {\n            return yScale(d);\n        })\n        .attr('y', function (d) {\n            return height - yScale(d);\n        }).delay(function (d, i) {\n        return i * 70;\n\n    }).ease('elastic');\n\n    var vGuideScale = d3.scale.linear()\n        .domain([0, d3.max(nums)])\n        .range([height, 0]); //reversing the order of the scale on the y axi\n\n    var vAxis = d3.svg.axis()\n        .scale(vGuideScale)\n        .orient('left')\n        .ticks(10);\n\n    var vGuide = d3.select('#excess-chart > svg').append('g');\n    vAxis(vGuide);\n    vGuide.attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');\n    vGuide.selectAll('path')\n        .style({fill: 'none', stroke: \"white\"});\n    vGuide.selectAll('line')\n        .style({stroke: \"white\"});\n    vGuide.selectAll('text')\n        .style({stroke: \"grey\"});\n\n    var name = d3.scale.ordinal()\n        .range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n    var hAxis = d3.svg.axis()\n        .scale(xScale)\n        .orient('bottom')\n        .tickValues(xScale.domain().filter(function (d, i) {\n            return !(i % (nums.length / 5));\n        }));\n\n    var hGuide = d3.select('#excess-chart > svg').append('g');\n    hAxis(hGuide);\n    hGuide.attr('transform', 'translate(' + margin.left + ', ' + (height + margin.top) + ')');\n    hGuide.selectAll('path')\n        .style({fill: 'none', stroke: \"white\"});\n    hGuide.selectAll('line')\n        .style({stroke: \"white\"});\n    hGuide.selectAll('text')\n        .style({stroke: \"grey\"});\n\n}\n"]}